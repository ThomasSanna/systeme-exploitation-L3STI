# TD 1: Utilisatio de commandes

## Exercice 1: Création d'arborescence

```bash
$ mkdir dossier1
$ touch fichier1
$ touch fichier2
$ cd dossier1/
/dossier1$ mkdir dossier2
/dossier1$ mkdir dossier3
/dossier1$ touch fichier3
/dossier1$ cd dossier2
/dossier1/dossier2$ touch fichier4
```

## Exercice 2: Navigation et manipulation dans l'arboréscence

```bash
/dossier1/dossier2$ vi test1
/dossier1/dossier2$ cat test1
Bonjour
/dossier1/dossier2$ cp test1 test2
/dossier1/dossier2$ ls
/dossier1/dossier2$ cat test2        
Bonjour
/dossier1/dossier2$ vi test2
/dossier1/dossier2$ cat test1        
Bonjour
/dossier1/dossier2$ cat test2        
Bonjour
Salut
/dossier1/dossier2$ cp test2 ../dossier3/test2
/dossier1/dossier2$ rm test2
/dossier1/dossier2$ cd ../../        
$ find . -type f
./dossier1/dossier2/fichier4
./dossier1/dossier2/test1
./dossier1/dossier3/test2
./dossier1/fichier3
./fichier1
./fichier2
$
```

## Exercice 3: Manipulation de contenu de fichier

### Question 1-2

```bash
$ wc -l td_1_exo_3
>> 6 td_1_exo_3
$ grep "QUESTION" td_1_exo_3 
>> QUESTION: Je ne respire jamais mais j'ai beaucoup de souffle. Qui suis-je ?
>> QUESTION: Quelle est la moitié de 4 plus 4 ?
>> QUESTION: Comment faire 12 avec trois fois le chiffre 1 ?
```

### Question 3: Listez les réponses que contient le fichier
  
```bash
$ grep "REPONSE" td_1_exo_3
>> REPONSE: Un sèche-cheveux
>> REPONSE: 6 car la moitié de 4=2. 2+4=6
>> REPONSE: Vous faites 11 + 1 = 12
```

### Q4: Affichez le contenu des lignes qui contiennent le mot “moitié”

```bash
$ grep "moitié" td_1_exo_3
>> QUESTION: Quelle est la moitié de 4 plus 4 ?
>> REPONSE: 6 car la moitié de 4=2. 2+4=6
```

### Q5: Répétez la commande précédente mais en affichant aussi le numéro de chaque ligne

```bash
$ grep -n "moitié" td_1_exo_3
>> 3:QUESTION: Quelle est la moitié de 4 plus 4 ?
>> 4:REPONSE: 6 car la moitié de 4=2. 2+4=6
```

### Q6: Comptez le nombre de mots dans le fichier

```bash
$ wc -w td_1_exo_3
>> 53 td_1_exo_3
```

### Q7: Afficher la premiere ligne du fichier

```bash
$ head -n 1 td_1_exo_3
>> QUESTION: Je ne respire jamais mais j'ai beaucoup de souffle. Qui suis-je ?
```

### Q8: Comptez le nombre de mot que contient la premiere ligne du fichier

```bash
$ head -n 1 td_1_exo_3 | wc -w
>> 13
```

### Q9: Ajouter le test "FIN" à la fin du fichier

```bash
$ echo "FIN" >> td_1_exo_3
```

### Q10: Afficher le contenu du fichier

```bash
$ cat td_1_exo_3
>> QUESTION: Je ne respire jamais mais j'ai beaucoup de souffle. Qui suis-je ?
>> REPONSE: Un sèche-cheveux
>> QUESTION: Quelle est la moitié de 4 plus 4 ?
>> REPONSE: 6 car la moitié de 4=2. 2+4=6
>> QUESTION: Comment faire 12 avec trois fois le chiffre 1 ?
>> REPONSE: Vous faites 11 + 1 = 12
>> FIN
```

### Q11: Afficher la derniere ligne du fichier

```bash
$ tail -n 1 td_1_exo_3
>> FIN
```

### Q12: Afficher tout le fichier excepté sa dernière ligne

```bash
$ head -n -1 td_1_exo_3
>> QUESTION: Je ne respire jamais mais j'ai beaucoup de souffle. Qui suis-je ?
>> REPONSE: Un sèche-cheveux
>> QUESTION: Quelle est la moitié de 4 plus 4 ?
>> REPONSE: 6 car la moitié de 4=2. 2+4=6
>> QUESTION: Comment faire 12 avec trois fois le chiffre 1 ?
>> REPONSE: Vous faites 11 + 1 = 12
```

## Exercice 4: Autres manipulations

### Q6: Afficher la liste des fichiers du dossier courant

```bash
$ find . -type f
>> ./cowsay/cowsay
>> ./cowsay/cowthink
>> ./cowsay/doc/cowsay.1
>> ./cowsay/LICENSE
```

### Q7: Installer et utiliser cowsay

```bash
$ sudo apt-get update
$ sudo apt-get install cowsay
$ cowsay Bonjour
 _________
< Bonjour >
 ---------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||

```

### Q8: Faire dire (ou penser) une phrase aléatoire à la vache

Création du fichier phrases.txt ou utilisation de Fortune (sudo apt install fortune)

```bash
$ fortune | cowsay
 ______________________________________
( You are only young once, but you can )
( stay immature indefinitely.          )
 --------------------------------------
        o   ^__^
         o  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
```

**ou**

  ```bash
$ shuf -n 1 phrases.txt | cowsay
 ____________________________________
/ Les oiseaux de même plumage volent \
\ ensemble.                          /
 ------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
```

### Q9: Faire dire (ou penser) une phrase aléatoire à cow, et faites en sorte que le rendu final soit écrit dans un fichier nommé “resultat”

```bash
$ shuf -n 1 phrases.txt | cowsay >> resultat
```

**ou**

```bash
$ fortune | cowsay >> resultat
```

```bash
$ cat resultat
 _________________________________
/ C'est en forgeant qu'on devient \
\ forgeron.                       /
 ---------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
```
